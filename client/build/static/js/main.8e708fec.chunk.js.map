{"version":3,"sources":["components/custom-button/custom-button.module.css","components/search-form/search-form.module.css","components/custom-input/input.module.css","components/image-container/image-container.module.css","components/custom-image/custom-image.module.css","components/top-button/top-button.module.css","components/custom-input/custom-input.component.jsx","components/custom-button/custom-button.component.jsx","components/search-form/search-form.component.jsx","components/custom-image/custom-image.component.jsx","components/image-container/image-container.component.jsx","components/top-button/top-button.component.jsx","App.js","index.js"],"names":["module","exports","CustomInput","searchText","handleChange","otherProps","className","styles","input","type","value","onChange","CustomButton","children","active","searching","handleSubmit","button","onClick","SearchForm","state","searched","resultText","e","setState","target","a","preventDefault","props","emptyImageUrls","url","fetch","res","json","data","loadImages","console","log","this","length","onSubmit","searchForm","placeholder","style","margin","React","Component","CustomImage","img","ImageContainer","images","imageContainer","map","imageUrl","i","src","key","TopButton","window","scroll","left","top","appRef","offsetLeft","offsetWidth","innerHeight","handleClick","topButton","App","handleScroll","document","documentElement","scrollHeight","scrollY","initialLoad","loading","loadNextImages","err","page","imageUrls","bind","createRef","addEventListener","ref","fontSize","marginTop","href","color","textAlign","current","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.8e708fec.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"custom-button_button__2FLF3\",\"active\":\"custom-button_active__3hscQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"search-form_searchForm__3_XBN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"input_input__yvQio\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageContainer\":\"image-container_imageContainer__bJMXv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"custom-image_img__1U9M1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topButton\":\"top-button_topButton__11-dD\"};","import React from 'react'\r\nimport styles from './input.module.css'\r\n\r\nconst CustomInput = ({ searchText, handleChange, ...otherProps }) => (\r\n\t<input\r\n\t\tclassName={styles.input}\r\n\t\ttype='search'\r\n\t\tvalue={searchText}\r\n\t\tonChange={handleChange}\r\n\t\t{...otherProps}\r\n\t/>\r\n)\r\n\r\nexport default CustomInput\r\n","import React from 'react'\r\nimport styles from './custom-button.module.css'\r\n\r\nconst CustomButton = ({ children, active, searching, handleSubmit }) => (\r\n\t<button\r\n\t\tclassName={`${styles.button} ${\r\n\t\t\tactive && !searching ? styles.active : ''\r\n\t\t}`}\r\n\t\tonClick={!!active ? handleSubmit : () => {}}>\r\n\t\t{searching ? 'wait...' : children}\r\n\t</button>\r\n)\r\n\r\nexport default CustomButton\r\n","import React from 'react'\r\n\r\nimport styles from './search-form.module.css'\r\n\r\nimport CustomInput from '../custom-input/custom-input.component'\r\nimport CustomButton from '../custom-button/custom-button.component'\r\n\r\nclass SearchForm extends React.Component {\r\n\tstate = {\r\n\t\tsearchText: '',\r\n\t\tsearching: false,\r\n\t\tsearched: false,\r\n\t\tresultText: '',\r\n\t}\r\n\thandleChange = e => {\r\n\t\tthis.setState({\r\n\t\t\tsearchText: e.target.value,\r\n\t\t})\r\n\t}\r\n\thandleSubmit = async e => {\r\n\t\te.preventDefault()\r\n\t\tthis.props.emptyImageUrls()\r\n\t\tthis.setState(state => ({\r\n\t\t\tsearching: true,\r\n\t\t\tsearched: true,\r\n\t\t\tresultText: `'${state.searchText}' images`,\r\n\t\t}))\r\n\t\tconst url = `https://image-buddy-baraja.herokuapp.com/api/search?q=${this.state.searchText}`\r\n\t\ttry {\r\n\t\t\tconst res = await fetch(url)\r\n\t\t\tconst data = await res.json()\r\n\t\t\tthis.setState({\r\n\t\t\t\tsearching: false,\r\n\t\t\t})\r\n\t\t\tthis.props.loadImages(data)\r\n\t\t\tconsole.log(data)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err)\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\tconst active = !!this.state.searchText.length\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<form\r\n\t\t\t\t\tonSubmit={\r\n\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t? this.handleSubmit\r\n\t\t\t\t\t\t\t: e => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclassName={styles.searchForm}>\r\n\t\t\t\t\t<CustomInput\r\n\t\t\t\t\t\tsearchText={this.state.searchText}\r\n\t\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\t\tplaceholder='search any image...'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<CustomButton\r\n\t\t\t\t\t\thandleSubmit={this.handleSubmit}\r\n\t\t\t\t\t\tactive={active}\r\n\t\t\t\t\t\tsearching={this.state.searching}>\r\n\t\t\t\t\t\tSearch\r\n\t\t\t\t\t</CustomButton>\r\n\t\t\t\t</form>\r\n\r\n\t\t\t\t{this.state.searched ? (\r\n\t\t\t\t\t<h2 style={{ margin: '10px 0' }}>\r\n\t\t\t\t\t\t{this.state.resultText}\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t''\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default SearchForm\r\n","import React from 'react'\r\n\r\nimport styles from './custom-image.module.css'\r\n\r\nconst CustomImage = ({ ...props }) => <img {...props} className={styles.img} />\r\n\r\nexport default CustomImage\r\n","import React from 'react'\r\n\r\nimport styles from './image-container.module.css'\r\nimport CustomImage from '../custom-image/custom-image.component'\r\n\r\nconst ImageContainer = ({ images, children }) => (\r\n\t<div className={styles.imageContainer}>\r\n\t\t{images\r\n\t\t\t? images.map((imageUrl, i) => (\r\n\t\t\t\t\t<CustomImage src={imageUrl} key={i} />\r\n\t\t\t  ))\r\n\t\t\t: ''}\r\n\t\t{children}\r\n\t</div>\r\n)\r\n\r\nexport default ImageContainer\r\n","import React from 'react'\r\n\r\nimport styles from './top-button.module.css'\r\n\r\nclass TopButton extends React.Component {\r\n\thandleClick() {\r\n\t\twindow.scroll(0, 0)\r\n\t}\r\n\trender() {\r\n\t\tlet left, top\r\n\t\tconst { appRef } = this.props\r\n\t\tif (appRef) {\r\n\t\t\tleft = appRef.offsetLeft + appRef.offsetWidth - 70\r\n\t\t\ttop = window.innerHeight - 60\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<button\r\n\t\t\t\tstyle={{ left: `${left}px`, top: `${top}px` }}\r\n\t\t\t\tonClick={this.handleClick}\r\n\t\t\t\tclassName={styles.topButton}>\r\n\t\t\t\tTop\r\n\t\t\t</button>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default TopButton\r\n","import React from 'react'\nimport './App.css'\n\nimport SearchForm from './components/search-form/search-form.component'\nimport ImageContainer from './components/image-container/image-container.component'\nimport CustomImage from './components/custom-image/custom-image.component'\nimport TopButton from './components/top-button/top-button.component'\n\nclass App extends React.Component {\n\tconstructor() {\n\t\tsuper()\n\t\tthis.state = {\n\t\t\tdata: {\n\t\t\t\timageUrls: [],\n\t\t\t},\n\t\t\tappRef: null,\n\t\t\tinitialLoad: false,\n\t\t\tpage: 1,\n\t\t\tloading: false,\n\t\t}\n\t\tthis.handleScroll = this.handleScroll.bind(this)\n\t\tthis.appRef = React.createRef()\n\t\twindow.addEventListener('scroll', this.handleScroll)\n\t}\n\n\thandleScroll = e => {\n\t\tif (\n\t\t\tdocument.documentElement.scrollHeight -\n\t\t\t\twindow.scrollY -\n\t\t\t\twindow.innerHeight <\n\t\t\t\t100 &&\n\t\t\tthis.state.initialLoad &&\n\t\t\t!this.state.loading\n\t\t) {\n\t\t\tthis.setState({\n\t\t\t\tloading: true,\n\t\t\t})\n\t\t\tthis.loadNextImages()\n\t\t}\n\t}\n\tloadImages = data => {\n\t\tif (!data.err) {\n\t\t\tthis.setState(state => ({\n\t\t\t\tdata,\n\t\t\t\tinitialLoad: true,\n\t\t\t\tpage: 2,\n\t\t\t}))\n\t\t}\n\t}\n\tloadNextImages = async () => {\n\t\tlet url = `https://image-buddy-baraja.herokuapp.com/api/page/${this.state.page}`\n\t\ttry {\n\t\t\tconst res = await fetch(url)\n\t\t\tconst images = await res.json()\n\t\t\tif (images.imageUrls.length > 0) {\n\t\t\t\tthis.setState(state => ({\n\t\t\t\t\tpage: state.page + 1,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\timageUrls: [\n\t\t\t\t\t\t\t...state.data.imageUrls,\n\t\t\t\t\t\t\t...images.imageUrls,\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\tloading: false,\n\t\t\t\t}))\n\t\t\t}\n\t\t\tconsole.log('iamges', images)\n\t\t} catch (err) {}\n\t}\n\tcomponentDidMount() {\n\t\tthis.setState({\n\t\t\tappRef: this.appRef,\n\t\t})\n\t}\n\temptyImageUrls = () => {\n\t\tthis.setState({\n\t\t\tdata: {\n\t\t\t\timageUrls: [null],\n\t\t\t},\n\t\t})\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className='App' ref={this.appRef}>\n\t\t\t\t<h1>\n\t\t\t\t\tImage Buddy{' '}\n\t\t\t\t\t<small style={{ fontSize: '0.5em' }}>By Baraja</small>\n\t\t\t\t</h1>\n\t\t\t\t<h2 style={{ marginTop: '-20px' }}>\n\t\t\t\t\t<small style={{ fontSize: '0.5em' }}>\n\t\t\t\t\t\tCredits: pixabay.com |\n\t\t\t\t\t</small>{' '}\n\t\t\t\t\t<a\n\t\t\t\t\t\thref='https://github.com/barajasss/image-buddy'\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\tstyle={{ color: 'dodgerblue' }}>\n\t\t\t\t\t\t<small style={{ fontSize: '0.5em' }}>Source Code</small>\n\t\t\t\t\t</a>\n\t\t\t\t</h2>\n\t\t\t\t<SearchForm\n\t\t\t\t\temptyImageUrls={this.emptyImageUrls}\n\t\t\t\t\tloadImages={this.loadImages}\n\t\t\t\t/>\n\n\t\t\t\t{this.state.data.imageUrls.length > 0 ? (\n\t\t\t\t\t<ImageContainer images={this.state.data.imageUrls} />\n\t\t\t\t) : (\n\t\t\t\t\t<ImageContainer>\n\t\t\t\t\t\t<CustomImage\n\t\t\t\t\t\t\tsrc={process.env.PUBLIC_URL + '/search girl.png'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ImageContainer>\n\t\t\t\t)}\n\n\t\t\t\t{this.state.loading ? (\n\t\t\t\t\t<h3 style={{ textAlign: 'center', margin: '10px 0' }}>\n\t\t\t\t\t\tLoading ...\n\t\t\t\t\t</h3>\n\t\t\t\t) : (\n\t\t\t\t\t''\n\t\t\t\t)}\n\t\t\t\t<TopButton\n\t\t\t\t\tappRef={\n\t\t\t\t\t\tthis.state.appRef ? this.state.appRef.current : null\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n// import { BrowserRouter, Route } from 'react-router-dom'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}